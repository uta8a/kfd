# ユースケース

## MVP

### 完了要件

CTFを開催できる機能を揃える

### ドメイン

- ゲスト: アカウントを持たない人
  - ログインしていない状態
- 参加者: CTFの問題を解く人
  - 参加者はロールとして実装する
- 運営: 作問者・出題する問題を決める人
  - 運営はロールとして実装する(複数人が運営ロールを持てる)
  - 今回は運営はアプリ起動時に環境変数で設定し、変更できるAPIを実装しないこととする。
- 問題
  - 問題は以下の要素からなる
    - タイトル
    - 問題文
    - 添付ファイルURL
    - フラグ
    - 点数
- アカウント
  - アカウントは以下の要素からなる
    - username
    - password
    - score
    - 解いた問題

### 機能

- [ ] ゲストはトップページを見ることができる
- [ ] ゲストはスコアボードを見ることができる
- [ ] ゲストはアカウントを作ることができる
- [ ] 参加者はログインできる
- [ ] 参加者はログアウトできる
- [ ] 参加者はトップページを見ることができる
- [ ] 参加者はスコアボードを見ることができる
- [ ] 参加者は問題一覧を見ることができる
- [ ] 参加者は問題一覧から問題を選択し、個別の問題ページを見れる
- [ ] 参加者は問題ページからフラグを提出し、フラグが正しいかどうか結果を見れる
- [ ] 運営はログインできる
- [ ] 運営はログアウトできる
- [ ] 運営は問題を追加できる
- [ ] 運営は問題を削除できる
- [ ] 運営はCTFを開始できる
- [ ] 運営はCTFを終了できる

### ページ

- トップページ
  - CTF名
  - 開始時間
  - 終了時間
  - ルール
- スコアボードページ
  - 参加者のusernameとscoreがscore昇順で並んでいる
- 問題一覧ページ
  - 問題の一覧
- 問題個別ページ
  - 個別の問題のページ

### シナリオ

- 運営
  - 問題を追加
  - CTFを開始
    - 開催中に問題の追加/削除が行える
  - CTFを終了
- 参加者(初めはゲスト)
  - アカウントを作る
  - CTFが開始すると、問題一覧ページを見る
  - 問題を解いてフラグを提出する
  - フラグが正解なら点数がアカウントのscoreに加算される
  - スコアボードを見て自分の順位を知ることができる
  - CTFが終了すると、フラグが提出できなくなり、点数の変動はなくなる
